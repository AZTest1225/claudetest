# Partnerç®¡ç†ç³»ç»Ÿå¼€å‘è®¡åˆ’

## é¡¹ç›®æ¦‚è¿°
å¼€å‘ä¸€ä¸ªæ”¯æŒç®¡ç†å‘˜å’Œæ™®é€šç”¨æˆ·çš„Partnerç®¡ç†ç³»ç»Ÿï¼ŒåŒ…å«ç”¨æˆ·ç®¡ç†ã€Partnerç®¡ç†å’Œæ´»åŠ¨ç®¡ç†åŠŸèƒ½ï¼Œéœ€æ”¯æŒ1000+å¹¶å‘ç”¨æˆ·ã€‚

## åŠŸèƒ½éœ€æ±‚

### 1. ç”¨æˆ·ç®¡ç†æ¨¡å—
- **ç”¨æˆ·æ³¨å†Œä¸è®¤è¯**
  - Adminç”¨æˆ·æ³¨å†Œå’Œç™»å½•
  - æ™®é€šç”¨æˆ·æ³¨å†Œå’Œç™»å½•
  - åŸºäºJWTçš„èº«ä»½éªŒè¯
  - å¯†ç åŠ å¯†å­˜å‚¨ï¼ˆbcryptï¼‰
  - è§’è‰²æƒé™ç®¡ç†ï¼ˆRBACï¼‰

- **ç”¨æˆ·ç®¡ç†åŠŸèƒ½**
  - ç”¨æˆ·åˆ—è¡¨æŸ¥çœ‹
  - ç”¨æˆ·ä¿¡æ¯ç¼–è¾‘
  - ç”¨æˆ·çŠ¶æ€ç®¡ç†ï¼ˆå¯ç”¨/ç¦ç”¨ï¼‰
  - ç”¨æˆ·è§’è‰²åˆ†é…

### 2. Partnerç®¡ç†æ¨¡å—
- **PartneråŸºæœ¬æ“ä½œ**
  - æ·»åŠ Partnerï¼ˆåç§°ã€è”ç³»æ–¹å¼ã€æè¿°ã€çŠ¶æ€ç­‰ï¼‰
  - ç¼–è¾‘Partnerä¿¡æ¯
  - åˆ é™¤Partner
  - Partneråˆ—è¡¨æŸ¥çœ‹ï¼ˆæ”¯æŒåˆ†é¡µã€æœç´¢ã€ç­›é€‰ï¼‰
  - Partnerè¯¦æƒ…æŸ¥çœ‹

- **Partneræ•°æ®å­—æ®µ**
  - IDï¼ˆä¸»é”®ï¼‰
  - åç§°
  - è”ç³»äºº
  - è”ç³»ç”µè¯
  - é‚®ç®±
  - åœ°å€
  - æè¿°
  - çŠ¶æ€ï¼ˆæ´»è·ƒ/éæ´»è·ƒï¼‰
  - åˆ›å»ºæ—¶é—´
  - æ›´æ–°æ—¶é—´

### 3. æ´»åŠ¨ç®¡ç†æ¨¡å—
- **æ´»åŠ¨åŸºæœ¬æ“ä½œ**
  - åˆ›å»ºæ´»åŠ¨
  - ç¼–è¾‘æ´»åŠ¨ä¿¡æ¯
  - åˆ é™¤æ´»åŠ¨
  - æ´»åŠ¨åˆ—è¡¨æŸ¥çœ‹ï¼ˆæ”¯æŒåˆ†é¡µã€æœç´¢ã€ç­›é€‰ï¼‰
  - æ´»åŠ¨è¯¦æƒ…æŸ¥çœ‹

- **æ´»åŠ¨ä¸Partnerå…³è”**
  - ä¸ºæ´»åŠ¨å…³è”å¤šä¸ªPartner
  - æŸ¥çœ‹æ´»åŠ¨å…³è”çš„Partneråˆ—è¡¨
  - ç§»é™¤æ´»åŠ¨çš„Partnerå…³è”
  - æŸ¥çœ‹Partnerå‚ä¸çš„æ´»åŠ¨åˆ—è¡¨

- **æ´»åŠ¨æ•°æ®å­—æ®µ**
  - IDï¼ˆä¸»é”®ï¼‰
  - æ´»åŠ¨åç§°
  - æ´»åŠ¨æè¿°
  - å¼€å§‹æ—¶é—´
  - ç»“æŸæ—¶é—´
  - åœ°ç‚¹
  - çŠ¶æ€ï¼ˆè®¡åˆ’ä¸­/è¿›è¡Œä¸­/å·²ç»“æŸï¼‰
  - åˆ›å»ºäºº
  - åˆ›å»ºæ—¶é—´
  - æ›´æ–°æ—¶é—´

## æŠ€æœ¯æ¶æ„

### å‰ç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: React 18+
- **æ ·å¼**: LESS
- **UIç»„ä»¶åº“**: Ant Designï¼ˆæ¨èï¼‰æˆ–è‡ªå®šä¹‰ç»„ä»¶
- **çŠ¶æ€ç®¡ç†**: Redux Toolkit æˆ– Zustand
- **è·¯ç”±**: React Router v6
- **HTTPå®¢æˆ·ç«¯**: Axios
- **è¡¨å•ç®¡ç†**: React Hook Form
- **æ„å»ºå·¥å…·**: Vite æˆ– Create React App

### åç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: ASP.NET Core 8.0
- **è¯­è¨€**: C# 12
- **ORM**: Entity Framework Core 8.0
- **æ•°æ®åº“æä¾›è€…**: Npgsql.EntityFrameworkCore.PostgreSQL
- **è®¤è¯**: ASP.NET Core Identity + JWT Bearer
- **æˆæƒ**: åŸºäºç­–ç•¥çš„æˆæƒï¼ˆPolicy-based Authorizationï¼‰
- **éªŒè¯**: FluentValidation
- **æ—¥å¿—**: Serilog + Seqï¼ˆå¯é€‰ï¼‰
- **APIæ–‡æ¡£**: Swagger/Swashbuckle
- **ä¾èµ–æ³¨å…¥**: å†…ç½®DIå®¹å™¨
- **ç¼“å­˜**: IDistributedCache + Redis
- **APIé™æµ**: AspNetCoreRateLimit
- **å¥åº·æ£€æŸ¥**: ASP.NET Core Health Checks

### æ•°æ®åº“
- **æ•°æ®åº“**: PostgreSQL 15+
- **è¿æ¥æ± **: é…ç½®é€‚å½“çš„è¿æ¥æ± å¤§å°
- **ç´¢å¼•ä¼˜åŒ–**: ä¸ºå¸¸ç”¨æŸ¥è¯¢å­—æ®µæ·»åŠ ç´¢å¼•
- **å¤‡ä»½ç­–ç•¥**: å®šæœŸè‡ªåŠ¨å¤‡ä»½

## æ•°æ®åº“è®¾è®¡

### ç”¨æˆ·è¡¨ (users)
```sql
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    username VARCHAR(50) UNIQUE NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL,
    password_hash VARCHAR(255) NOT NULL,
    role VARCHAR(20) NOT NULL, -- 'admin' or 'user'
    status VARCHAR(20) DEFAULT 'active',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX idx_users_email ON users(email);
CREATE INDEX idx_users_role ON users(role);
```

### Partnerè¡¨ (partners)
```sql
CREATE TABLE partners (
    id SERIAL PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    contact_person VARCHAR(100),
    phone VARCHAR(20),
    email VARCHAR(100),
    address TEXT,
    description TEXT,
    status VARCHAR(20) DEFAULT 'active',
    created_by INTEGER REFERENCES users(id),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX idx_partners_name ON partners(name);
CREATE INDEX idx_partners_status ON partners(status);
```

### æ´»åŠ¨è¡¨ (events)
```sql
CREATE TABLE events (
    id SERIAL PRIMARY KEY,
    name VARCHAR(200) NOT NULL,
    description TEXT,
    start_date TIMESTAMP NOT NULL,
    end_date TIMESTAMP NOT NULL,
    location VARCHAR(200),
    status VARCHAR(20) DEFAULT 'planned',
    created_by INTEGER REFERENCES users(id),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX idx_events_start_date ON events(start_date);
CREATE INDEX idx_events_status ON events(status);
```

### æ´»åŠ¨-Partnerå…³è”è¡¨ (event_partners)
```sql
CREATE TABLE event_partners (
    id SERIAL PRIMARY KEY,
    event_id INTEGER REFERENCES events(id) ON DELETE CASCADE,
    partner_id INTEGER REFERENCES partners(id) ON DELETE CASCADE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UNIQUE(event_id, partner_id)
);

CREATE INDEX idx_event_partners_event ON event_partners(event_id);
CREATE INDEX idx_event_partners_partner ON event_partners(partner_id);
```

## æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆï¼ˆæ”¯æŒ1000+å¹¶å‘ï¼‰

### åç«¯ä¼˜åŒ–
1. **APIå±‚é¢**
   - å®ç°å“åº”ç¼“å­˜ï¼ˆRedisï¼‰
   - ä½¿ç”¨è¿æ¥æ± ç®¡ç†æ•°æ®åº“è¿æ¥
   - å®ç°APIé™æµï¼ˆRate Limitingï¼‰
   - å¯ç”¨GZIPå‹ç¼©

2. **æ•°æ®åº“å±‚é¢**
   - ä¼˜åŒ–æŸ¥è¯¢è¯­å¥ï¼Œé¿å…N+1é—®é¢˜
   - åˆç†ä½¿ç”¨ç´¢å¼•
   - å®ç°æ•°æ®åº“è¯»å†™åˆ†ç¦»ï¼ˆå¦‚éœ€è¦ï¼‰
   - é…ç½®åˆé€‚çš„è¿æ¥æ± å¤§å°ï¼ˆå»ºè®®ï¼š100-200ï¼‰

3. **ç¼“å­˜ç­–ç•¥**
   - Redisç¼“å­˜çƒ­ç‚¹æ•°æ®
   - ç”¨æˆ·ä¼šè¯ç¼“å­˜
   - Partneråˆ—è¡¨ç¼“å­˜ï¼ˆçŸ­æœŸTTLï¼‰
   - æ´»åŠ¨åˆ—è¡¨ç¼“å­˜

### å‰ç«¯ä¼˜åŒ–
1. **åŠ è½½ä¼˜åŒ–**
   - ä»£ç åˆ†å‰²å’Œæ‡’åŠ è½½
   - å›¾ç‰‡æ‡’åŠ è½½
   - ä½¿ç”¨CDNåŠ é€Ÿé™æ€èµ„æº

2. **æ¸²æŸ“ä¼˜åŒ–**
   - è™šæ‹Ÿåˆ—è¡¨ï¼ˆå¤§æ•°æ®é‡è¡¨æ ¼ï¼‰
   - é˜²æŠ–å’ŒèŠ‚æµå¤„ç†
   - React.memoä¼˜åŒ–ç»„ä»¶æ¸²æŸ“

### åŸºç¡€è®¾æ–½
1. **è´Ÿè½½å‡è¡¡**
   - ä½¿ç”¨Nginxä½œä¸ºåå‘ä»£ç†
   - é…ç½®å¤šä¸ªåç«¯å®ä¾‹
   - å®ç°å¥åº·æ£€æŸ¥

2. **ç›‘æ§å’Œæ—¥å¿—**
   - åº”ç”¨æ€§èƒ½ç›‘æ§ï¼ˆAPMï¼‰
   - é”™è¯¯æ—¥å¿—æ”¶é›†
   - è®¿é—®æ—¥å¿—åˆ†æ

## APIè®¾è®¡ç¤ºä¾‹

### ç”¨æˆ·ç›¸å…³API
- `POST /api/auth/register` - ç”¨æˆ·æ³¨å†Œ
- `POST /api/auth/login` - ç”¨æˆ·ç™»å½•
- `GET /api/users` - è·å–ç”¨æˆ·åˆ—è¡¨ï¼ˆAdminï¼‰
- `GET /api/users/:id` - è·å–ç”¨æˆ·è¯¦æƒ…
- `PUT /api/users/:id` - æ›´æ–°ç”¨æˆ·ä¿¡æ¯
- `DELETE /api/users/:id` - åˆ é™¤ç”¨æˆ·ï¼ˆAdminï¼‰

### Partnerç›¸å…³API
- `POST /api/partners` - åˆ›å»ºPartner
- `GET /api/partners` - è·å–Partneråˆ—è¡¨ï¼ˆæ”¯æŒåˆ†é¡µã€æœç´¢ï¼‰
- `GET /api/partners/:id` - è·å–Partnerè¯¦æƒ…
- `PUT /api/partners/:id` - æ›´æ–°Partnerä¿¡æ¯
- `DELETE /api/partners/:id` - åˆ é™¤Partner

### æ´»åŠ¨ç›¸å…³API
- `POST /api/events` - åˆ›å»ºæ´»åŠ¨
- `GET /api/events` - è·å–æ´»åŠ¨åˆ—è¡¨ï¼ˆæ”¯æŒåˆ†é¡µã€æœç´¢ï¼‰
- `GET /api/events/:id` - è·å–æ´»åŠ¨è¯¦æƒ…
- `PUT /api/events/:id` - æ›´æ–°æ´»åŠ¨ä¿¡æ¯
- `DELETE /api/events/:id` - åˆ é™¤æ´»åŠ¨
- `POST /api/events/:id/partners` - ä¸ºæ´»åŠ¨å…³è”Partner
- `DELETE /api/events/:id/partners/:partnerId` - ç§»é™¤æ´»åŠ¨çš„Partnerå…³è”
- `GET /api/events/:id/partners` - è·å–æ´»åŠ¨å…³è”çš„Partneråˆ—è¡¨

## å®‰å…¨è€ƒè™‘
1. **è®¤è¯å’Œæˆæƒ**
   - JWT tokenè¿‡æœŸæœºåˆ¶
   - Refresh tokenæœºåˆ¶
   - åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼ˆRBACï¼‰

2. **æ•°æ®å®‰å…¨**
   - SQLæ³¨å…¥é˜²æŠ¤ï¼ˆä½¿ç”¨ORMå‚æ•°åŒ–æŸ¥è¯¢ï¼‰
   - XSSé˜²æŠ¤
   - CSRFé˜²æŠ¤
   - å¯†ç å¼ºåº¦éªŒè¯
   - æ•æ„Ÿæ•°æ®åŠ å¯†

3. **APIå®‰å…¨**
   - HTTPSé€šä¿¡
   - APIé™æµ
   - è¾“å…¥éªŒè¯
   - CORSé…ç½®

## é¡¹ç›®ç»“æ„å»ºè®®

### å‰ç«¯ç»“æ„
```
frontend/
â”œâ”€â”€ public/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/        # é€šç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ pages/            # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ auth/         # ç™»å½•æ³¨å†Œé¡µé¢
â”‚   â”‚   â”œâ”€â”€ users/        # ç”¨æˆ·ç®¡ç†é¡µé¢
â”‚   â”‚   â”œâ”€â”€ partners/     # Partnerç®¡ç†é¡µé¢
â”‚   â”‚   â””â”€â”€ events/       # æ´»åŠ¨ç®¡ç†é¡µé¢
â”‚   â”œâ”€â”€ services/         # APIæœåŠ¡
â”‚   â”œâ”€â”€ store/            # çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ styles/           # LESSæ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ utils/            # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ hooks/            # è‡ªå®šä¹‰Hooks
â”‚   â””â”€â”€ App.tsx
â”œâ”€â”€ package.json
â””â”€â”€ vite.config.ts
```

### åç«¯ç»“æ„ï¼ˆASP.NET Coreï¼‰
```
backend/
â”œâ”€â”€ PartnerManagement.Api/          # Web APIé¡¹ç›®
â”‚   â”œâ”€â”€ Controllers/                # APIæ§åˆ¶å™¨
â”‚   â”œâ”€â”€ Middlewares/                # ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ Program.cs                  # åº”ç”¨ç¨‹åºå…¥å£
â”‚   â”œâ”€â”€ appsettings.json           # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ appsettings.Development.json
â”œâ”€â”€ PartnerManagement.Core/         # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ Entities/                   # å®ä½“ç±»
â”‚   â”œâ”€â”€ Interfaces/                 # æ¥å£å®šä¹‰
â”‚   â”œâ”€â”€ Services/                   # ä¸šåŠ¡æœåŠ¡
â”‚   â”œâ”€â”€ DTOs/                       # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚   â””â”€â”€ Validators/                 # FluentValidationéªŒè¯å™¨
â”œâ”€â”€ PartnerManagement.Infrastructure/ # åŸºç¡€è®¾æ–½å±‚
â”‚   â”œâ”€â”€ Data/                       # æ•°æ®è®¿é—®
â”‚   â”‚   â”œâ”€â”€ ApplicationDbContext.cs
â”‚   â”‚   â”œâ”€â”€ Repositories/           # ä»“å‚¨å®ç°
â”‚   â”‚   â””â”€â”€ Migrations/             # EF Coreè¿ç§»
â”‚   â”œâ”€â”€ Identity/                   # èº«ä»½éªŒè¯
â”‚   â””â”€â”€ Configurations/             # EFé…ç½®ç±»
â”œâ”€â”€ PartnerManagement.Tests/        # å•å…ƒæµ‹è¯•é¡¹ç›®
â”‚   â”œâ”€â”€ UnitTests/
â”‚   â””â”€â”€ IntegrationTests/
â””â”€â”€ PartnerManagement.sln           # è§£å†³æ–¹æ¡ˆæ–‡ä»¶
```

## å¼€å‘é˜¶æ®µå»ºè®®

### ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€æ­å»ºï¼ˆ2-3å‘¨ï¼‰ âœ… å·²å®Œæˆ
- âœ… é¡¹ç›®åˆå§‹åŒ–å’ŒæŠ€æœ¯æ ˆæ­å»º
  - âœ… åˆ›å»ºASP.NET Coreè§£å†³æ–¹æ¡ˆï¼ˆPartnerManagement.slnï¼‰
  - âœ… åˆ›å»ºå››ä¸ªé¡¹ç›®ï¼šApi, Core, Infrastructure, Tests
  - âœ… é…ç½®é¡¹ç›®é—´å¼•ç”¨å…³ç³»
  - âœ… å®‰è£…å¿…è¦çš„NuGetåŒ…ï¼ˆEF Core, PostgreSQL, Identity, JWTç­‰ï¼‰
- âœ… æ•°æ®åº“è®¾è®¡å’Œåˆ›å»º
  - âœ… åˆ›å»ºå®ä½“ç±»ï¼šPartner, Event, EventPartner, ApplicationUser
  - âœ… é…ç½®ApplicationDbContextå’Œå®ä½“å…³ç³»
  - âœ… é…ç½®æ•°æ®åº“ç´¢å¼•
- âœ… ç”¨æˆ·è®¤è¯ç³»ç»Ÿå®ç°
  - âœ… é…ç½®ASP.NET Core Identity
  - âœ… é…ç½®JWTè®¤è¯
  - âœ… åˆ›å»ºAuthControllerï¼ˆæ³¨å†Œå’Œç™»å½•APIï¼‰
- âœ… åŸºç¡€UIæ¡†æ¶æ­å»º
  - âœ… åˆ›å»ºReactå‰ç«¯é¡¹ç›®ï¼ˆä½¿ç”¨Viteï¼‰
  - âœ… å®‰è£…ä¾èµ–ï¼šaxios, react-router-dom, antd, less
  - âœ… åˆ›å»ºåŸºç¡€ç›®å½•ç»“æ„
  - âœ… åˆ›å»ºAPIæœåŠ¡å±‚

### ç¬¬äºŒé˜¶æ®µï¼šæ ¸å¿ƒåŠŸèƒ½ï¼ˆ3-4å‘¨ï¼‰ ğŸš§ è¿›è¡Œä¸­
- âœ… Partnerç®¡ç†åŠŸèƒ½å®ç°
  - âœ… PartnersControllerå®Œæ•´CRUD API
  - â³ Partnerå‰ç«¯é¡µé¢ï¼ˆåˆ—è¡¨ã€è¯¦æƒ…ã€æ–°å¢ã€ç¼–è¾‘ï¼‰
- âœ… æ´»åŠ¨ç®¡ç†åŠŸèƒ½å®ç°
  - âœ… EventsControllerå®Œæ•´CRUD API
  - â³ Eventå‰ç«¯é¡µé¢ï¼ˆåˆ—è¡¨ã€è¯¦æƒ…ã€æ–°å¢ã€ç¼–è¾‘ï¼‰
- âœ… æ´»åŠ¨ä¸Partnerå…³è”åŠŸèƒ½
  - âœ… å…³è”APIå®ç°
  - â³ å…³è”åŠŸèƒ½å‰ç«¯UI
- â³ ç”¨æˆ·ç®¡ç†åŠŸèƒ½ï¼ˆAdminï¼‰
  - â³ UsersController API
  - â³ ç”¨æˆ·ç®¡ç†å‰ç«¯é¡µé¢

### ç¬¬ä¸‰é˜¶æ®µï¼šä¼˜åŒ–å’Œæµ‹è¯•ï¼ˆ2-3å‘¨ï¼‰ â³ å¾…å¼€å§‹
- æ€§èƒ½ä¼˜åŒ–
- å‹åŠ›æµ‹è¯•ï¼ˆæ¨¡æ‹Ÿ1000+å¹¶å‘ï¼‰
- å®‰å…¨æµ‹è¯•
- Bugä¿®å¤

### ç¬¬å››é˜¶æ®µï¼šéƒ¨ç½²ä¸Šçº¿ï¼ˆ1å‘¨ï¼‰ â³ å¾…å¼€å§‹
- ç”Ÿäº§ç¯å¢ƒé…ç½®
- éƒ¨ç½²å’Œç›‘æ§è®¾ç½®
- æ–‡æ¡£ç¼–å†™
- ä¸Šçº¿å’ŒåŸ¹è®­

## æµ‹è¯•ç­–ç•¥
- å•å…ƒæµ‹è¯•ï¼ˆJest/Vitestï¼‰
- é›†æˆæµ‹è¯•
- E2Eæµ‹è¯•ï¼ˆPlaywright/Cypressï¼‰
- æ€§èƒ½æµ‹è¯•ï¼ˆApache JMeter/k6ï¼‰
- å®‰å…¨æµ‹è¯•

## éƒ¨ç½²å»ºè®®
- **å®¹å™¨åŒ–**: ä½¿ç”¨Docker
- **ç¼–æ’**: Docker Composeæˆ–Kubernetes
- **CI/CD**: GitHub Actionsæˆ–GitLab CI
- **äº‘å¹³å°**: AWS/Azure/é˜¿é‡Œäº‘
- **æ•°æ®åº“**: ä½¿ç”¨æ‰˜ç®¡PostgreSQLæœåŠ¡

## é¢„ä¼°èµ„æºéœ€æ±‚ï¼ˆæ”¯æŒ1000å¹¶å‘ï¼‰
- **åº”ç”¨æœåŠ¡å™¨**: 2-4ä¸ªå®ä¾‹ï¼ˆæ¯ä¸ª2æ ¸4GBï¼‰
- **æ•°æ®åº“**: PostgreSQLï¼ˆ4æ ¸8GBï¼Œå¯æ‰©å±•ï¼‰
- **ç¼“å­˜**: Redisï¼ˆ2æ ¸4GBï¼‰
- **è´Ÿè½½å‡è¡¡**: Nginx
- **å¸¦å®½**: è‡³å°‘100Mbps

## ASP.NET Coreå®ç°è¦ç‚¹

### 1. Entity Framework Coreé…ç½®
```csharp
// ApplicationDbContext.cs
public class ApplicationDbContext : IdentityDbContext<ApplicationUser>
{
    public DbSet<Partner> Partners { get; set; }
    public DbSet<Event> Events { get; set; }
    public DbSet<EventPartner> EventPartners { get; set; }

    protected override void OnModelCreating(ModelBuilder builder)
    {
        base.OnModelCreating(builder);

        // é…ç½®å®ä½“å…³ç³»å’Œç´¢å¼•
        builder.ApplyConfigurationsFromAssembly(typeof(ApplicationDbContext).Assembly);
    }
}
```

### 2. JWTè®¤è¯é…ç½®
```csharp
// Program.cs
builder.Services.AddAuthentication(JwtBearerDefaults.AuthenticationScheme)
    .AddJwtBearer(options =>
    {
        options.TokenValidationParameters = new TokenValidationParameters
        {
            ValidateIssuer = true,
            ValidateAudience = true,
            ValidateLifetime = true,
            ValidateIssuerSigningKey = true,
            ValidIssuer = builder.Configuration["Jwt:Issuer"],
            ValidAudience = builder.Configuration["Jwt:Audience"],
            IssuerSigningKey = new SymmetricSecurityKey(
                Encoding.UTF8.GetBytes(builder.Configuration["Jwt:Key"]))
        };
    });
```

### 3. ä¾èµ–æ³¨å…¥é…ç½®
```csharp
// Program.cs - æœåŠ¡æ³¨å†Œ
builder.Services.AddScoped<IPartnerService, PartnerService>();
builder.Services.AddScoped<IEventService, EventService>();
builder.Services.AddScoped<IUserService, UserService>();

// é…ç½®Redisç¼“å­˜
builder.Services.AddStackExchangeRedisCache(options =>
{
    options.Configuration = builder.Configuration.GetConnectionString("Redis");
});

// é…ç½®é™æµ
builder.Services.Configure<IpRateLimitOptions>(builder.Configuration.GetSection("IpRateLimiting"));
builder.Services.AddInMemoryRateLimiting();
```

### 4. ä»“å‚¨æ¨¡å¼å®ç°
```csharp
public interface IRepository<T> where T : class
{
    Task<T> GetByIdAsync(int id);
    Task<IEnumerable<T>> GetAllAsync();
    Task<T> AddAsync(T entity);
    Task UpdateAsync(T entity);
    Task DeleteAsync(int id);
}
```

### 5. NuGetåŒ…ä¾èµ–
- Microsoft.AspNetCore.Identity.EntityFrameworkCore
- Microsoft.EntityFrameworkCore.Design
- Npgsql.EntityFrameworkCore.PostgreSQL
- Microsoft.AspNetCore.Authentication.JwtBearer
- FluentValidation.AspNetCore
- Serilog.AspNetCore
- Swashbuckle.AspNetCore
- StackExchange.Redis
- AspNetCoreRateLimit
- AutoMapper.Extensions.Microsoft.DependencyInjection

### 6. æ€§èƒ½ä¼˜åŒ–ï¼ˆASP.NET Coreç‰¹å®šï¼‰
- å¯ç”¨å“åº”å‹ç¼©ï¼ˆResponse Compressionï¼‰
- ä½¿ç”¨å¼‚æ­¥æ§åˆ¶å™¨æ–¹æ³•ï¼ˆasync/awaitï¼‰
- é…ç½®KestrelæœåŠ¡å™¨æ€§èƒ½é€‰é¡¹
- å¯ç”¨è¾“å‡ºç¼“å­˜ï¼ˆOutput Cachingï¼‰
- ä½¿ç”¨AsNoTracking()è¿›è¡Œåªè¯»æŸ¥è¯¢
- é…ç½®è¿æ¥æ± ï¼š
  ```json
  "ConnectionStrings": {
    "DefaultConnection": "Host=localhost;Database=partnermanagement;Username=postgres;Password=yourpassword;Pooling=true;MinPoolSize=10;MaxPoolSize=200;"
  }
  ```

### 7. ä¸­é—´ä»¶ç®¡é“é…ç½®
```csharp
// Program.cs - ä¸­é—´ä»¶é…ç½®é¡ºåº
app.UseHttpsRedirection();
app.UseRouting();
app.UseCors();
app.UseAuthentication();
app.UseAuthorization();
app.UseIpRateLimiting();
app.UseResponseCompression();
app.MapControllers();
```

### 8. å¥åº·æ£€æŸ¥é…ç½®
```csharp
builder.Services.AddHealthChecks()
    .AddNpgSql(connectionString)
    .AddRedis(redisConnection);

app.MapHealthChecks("/health");
```

## æ¡†æ¶ä»£ç å®Œæˆæƒ…å†µ

### å·²å®Œæˆçš„åŸºç¡€æ¡†æ¶ä»£ç 

#### åç«¯ (ASP.NET Core)
1. **è§£å†³æ–¹æ¡ˆç»“æ„**
   - âœ… PartnerManagement.sln
   - âœ… PartnerManagement.Api - Web APIé¡¹ç›®
   - âœ… PartnerManagement.Core - æ ¸å¿ƒä¸šåŠ¡é€»è¾‘å±‚
   - âœ… PartnerManagement.Infrastructure - åŸºç¡€è®¾æ–½å±‚
   - âœ… PartnerManagement.Tests - æµ‹è¯•é¡¹ç›®

2. **å®ä½“ç±» (Core/Entities/)**
   - âœ… Partner.cs - Partnerå®ä½“
   - âœ… Event.cs - Eventå®ä½“
   - âœ… EventPartner.cs - å¤šå¯¹å¤šå…³è”å®ä½“
   - âœ… ApplicationUser.cs - ç»§æ‰¿è‡ªIdentityUserçš„ç”¨æˆ·å®ä½“

3. **æ•°æ®è®¿é—®å±‚ (Infrastructure/Data/)**
   - âœ… ApplicationDbContext.cs - EF Core DbContexté…ç½®
   - âœ… å®ä½“å…³ç³»é…ç½®
   - âœ… ç´¢å¼•é…ç½®

4. **APIæ§åˆ¶å™¨ (Api/Controllers/)**
   - âœ… AuthController.cs - ç”¨æˆ·æ³¨å†Œã€ç™»å½•
   - âœ… PartnersController.cs - Partnerå®Œæ•´CRUD + åˆ†é¡µæœç´¢
   - âœ… EventsController.cs - Eventå®Œæ•´CRUD + Partnerå…³è”ç®¡ç†

5. **é…ç½®æ–‡ä»¶**
   - âœ… Program.cs - åº”ç”¨ç¨‹åºé…ç½®ã€JWTã€Identityã€CORSã€å‹ç¼©
   - âœ… appsettings.json - æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²ã€JWTé…ç½®

#### å‰ç«¯ (React)
1. **é¡¹ç›®ç»“æ„**
   - âœ… ä½¿ç”¨Viteåˆ›å»ºReacté¡¹ç›®
   - âœ… å®‰è£…ä¾èµ–ï¼šaxios, react-router-dom, antd, less

2. **ç›®å½•ç»“æ„**
   - âœ… src/components/ - é€šç”¨ç»„ä»¶
   - âœ… src/pages/ - é¡µé¢ç»„ä»¶ï¼ˆauth, users, partners, eventsï¼‰
   - âœ… src/services/ - APIæœåŠ¡
   - âœ… src/store/ - çŠ¶æ€ç®¡ç†
   - âœ… src/styles/ - æ ·å¼æ–‡ä»¶
   - âœ… src/utils/ - å·¥å…·å‡½æ•°
   - âœ… src/hooks/ - è‡ªå®šä¹‰Hooks

3. **APIæœåŠ¡å±‚**
   - âœ… services/api.js - Axiosé…ç½®ã€APIå°è£…ã€æ‹¦æˆªå™¨

### ä¸‹ä¸€æ­¥å·¥ä½œ
1. åˆ›å»ºæ•°æ®åº“è¿ç§»å¹¶åº”ç”¨åˆ°PostgreSQL
2. å®ç°å‰ç«¯é¡µé¢ç»„ä»¶
3. å®ç°ç”¨æˆ·ç®¡ç†åŠŸèƒ½
4. æ·»åŠ è§’è‰²å’Œæƒé™ç®¡ç†
5. æ€§èƒ½ä¼˜åŒ–å’Œæµ‹è¯•

## æ€»ç»“
è¯¥ç³»ç»Ÿé‡‡ç”¨ASP.NET Core 9.0ä½œä¸ºåç«¯æŠ€æœ¯æ ˆï¼Œå…·æœ‰ä¼ä¸šçº§çš„ç¨³å®šæ€§ã€æ€§èƒ½å’Œå®‰å…¨æ€§ã€‚åŸºç¡€æ¡†æ¶å·²ç»æ­å»ºå®Œæˆï¼ŒåŒ…æ‹¬å®Œæ•´çš„åç«¯APIã€æ•°æ®åº“å®ä½“è®¾è®¡ã€JWTè®¤è¯ç³»ç»Ÿï¼Œä»¥åŠReactå‰ç«¯é¡¹ç›®ç»“æ„ã€‚é€šè¿‡Clean Architectureåˆ†å±‚è®¾è®¡ã€Entity Framework Core ORMã€JWTè®¤è¯å’Œåˆç†çš„æ€§èƒ½ä¼˜åŒ–ç­–ç•¥ï¼Œå¯ä»¥è½»æ¾æ”¯æŒ1000+å¹¶å‘ç”¨æˆ·ã€‚ASP.NET Coreçš„æˆç†Ÿç”Ÿæ€ç³»ç»Ÿã€å¼ºç±»å‹ç‰¹æ€§å’Œå†…ç½®çš„æ€§èƒ½ä¼˜åŒ–ä½¿å…¶éå¸¸é€‚åˆæ„å»ºé«˜æ€§èƒ½çš„ä¼ä¸šçº§åº”ç”¨ã€‚
